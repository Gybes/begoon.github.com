---
layout: post
title: "Ведение блога на Google Code"
language: russian
date: 2009-07-26 01:00
comments: true
blogspot: http://easy-coding.blogspot.com/2009/07/google-code.html
categories:
- russian
---
Лично я пока не дозрел до ведения блога на собственном сайте. Конечно, собственный сайт - это удобно. Все можно поменять и сделать как хочется. Но это и обязанность - настраивать, обновлять версии, присматривать и т.д. Все это реально, но пока не для меня. Я как-то больше радею за контент, нежели за оформление.

Теперь ближе к делу. [Blogspot][] как механизм для ведения блога меня вполне устраивает. Единственное, чего не хватает - это возможности форматирования постов не в HTML или WYSIWYG редакторе, а на каком-нибудь диалекте Wiki. Мне много-то не надо, хотя бы базовые элементы.

[Blogspot]: http://blogspot.com/

Последнее время я как-то уж сблизился с [Google Code][]. А там как раз есть Wiki для ведения документации. Вот и возникала мысль скрестить Blogspot и Google Code для ведения блога.

[Google Code]: http://code.google.com/

Мой блог о программировании, поэтому задача удобного внедрения программного кода в посты стоит на первом месте. К тому же я люблю всегда давать по возможности полные компилируемые исходники, поэтому хостинг для исходников тоже нужен.

Я пришел вот к такой схеме. Для начала я завел одноименный проект на Google Code - [Easy Coding][].

[Easy Coding]: http://code.google.com/p/easy-coding/

Каждый пост пишется на Google Code в виде отдельной странички Wiki (лишний повод не писать двух-строчных одноразовых постов). Отлаживается верстка и общий внешний вид. Можно писать прямо в онлайне на страничке, но лично я изначально набиваю все в `notepad++` и `aspell`. Благо разметка Wiki не требует ежеминутного закольцованного ерзанья типа исправил-посмотрел-как-выглядит, как в HTML.

Если надо повесить картинку, то она выкладывается в раздел [Downloads][], и ссылка на картинку ведет туда. Исходники тоже можно было бы заливать в этот раздел, есть есть способ лучше. Исходники удобнее держать в разделе [Source][]. Там их можно удобно просматривать, скачивать, комментировать и т.д. И тут уже можно насладиться контролем версий для них (еще раз уточню - когда выкладываешь работающие исходники, это становится важно) - Subversion или Mercurial, кому что больше нравится. Кстати, раздел Wiki тоже под контролем версий.

[Downloads]: http://code.google.com/p/easy-coding/downloads/list
[Source]: http://code.google.com/p/easy-coding/source/browse/

Я использую Mercurial, так как распределенная модель позволяет работать долго локально, а потом одним махом отправить изменения на сервер. Получается, что Mercurial в данном случае - это как файловый клиент для обмена файлами с Google Code.

Итак, пост закончен и отлажен. Теперь его надо выложить на Blogspot. 

Для этого я написал элементарный [скрипт на php][wiki2blog]. Данный скрипт преобразует пост из формата .wiki в .html с ориентацией на особенности шаблонов и стилей конкретно Blogspot'а. Он, конечно, не идеален, но я решил так - я не буду делать универсального монстра, а буду править его по мере возникновения проблем или требования новых возможностей.

[wiki2blog]: http://code.google.com/p/easy-coding/source/browse/tools/wiki2blog.php

Так так теперь у меня всегда локально лежат посты в виде `.wiki` файлов, то если мне надо исправить пост - сначала я вношу изменения в `.wiki`, затем конвертирую `.wiki` снова в `.html` и выкладываю через онлайновый редактор Blogspot'а. Это позволяет всегда иметь посты в нормальной `.wiki` разметке и не думать, как их корежит онлайновый редактор Blogspot'а.

Соглашусь, многое из сказанного странно для владельцев собственных автономных блогов, но вот для клиентов Blogspot'а подобная методика весьма жизненна.

