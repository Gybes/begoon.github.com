---
layout: post
title: "Эмулятор Радио-86РК на JavaScript"
language: russian
date: 2009-09-25 00:00
comments: true
blogspot: http://easy-coding.blogspot.com/2009/09/86-javascript.html
categories:
- radio86
- project
- russian
---
Первым компьютером, на котором я начал программировать, был [Радио-86РК][]. Его собрал мой брат и... понеслась, и несется до сих пор.

[Радио-86РК]: http://ru.wikipedia.org/wiki/%D0%A0%D0%B0%D0%B4%D0%B8%D0%BE_86%D0%A0%D0%9A

Поэтому я до сих пор питаю слабость к данному раритету. К результат этой слабости я постоянно писал эмуляторы этого компьютера. 

Первый был под ДОС. Оригинальный сайт сего творения [я храню до сих пор в неизменном виде][Эмулятор под ДОС]. Этот эмулятор был весьма неплох: там был и встроенный отладчик, и метода взлома игр и т.д. Но ДОС ушел, поэтому данный эмулятор работает теперь разве что в [DosBox][]'e. Исходники творения [можно скачать][Скачать эмулятор под ДОС].

[Эмулятор под ДОС]: /projects/radio86/emulator/dos/
[DosBox]: http://www.dosbox.com/
[Скачать эмулятор под ДОС]: /projects/radio86/emulator/dos/download.html

Вторая реинкарнация любимого РК была уже под Windows и работала через [SDL][]. Тут уже не было встроенного отладчика, да и проект так и остался сырым (хотя и работающим), поэтому на публике лежит только [бинарь с комплектом игр][Эмулятор под Windows].

[SDL]: http://www.libsdl.org/
[Эмулятор под Windows]: /projects/radio86/emulator/windows/radio86-0.0.1.zip

И вот, пару дней назад я наткнулся вот на [эмулятор Спектрума на чистом JavaScript'е][jsspeccy]! - ни апплетов, ни activex'ов.

[jsspeccy]: http://matt.west.co.tt/spectrum/jsspeccy/

Так я от этой темы завелся, что за день-два оживил старого монстра РК на платформе JavaScript. Оказывается правильные браузеры дают весьма недурственную скорость скриптования. 2d графика реализуется через тэг canvas из HTML5.

Получился проект - [Эмулятор Радио-86РК на JavaScript][].

[Эмулятор Радио-86РК на JavaScript]: http://code.google.com/p/radio86/

Эмулятор и набор игр живут в одном [единственном файле][radio86.html]. Можно нажать на ссылку, и эмулятор запустится в браузере. Внизу есть селектор для выбора игры, и возможность поиграться со размерами экрана и скоростью.

[radio86.html]: http://radio86.googlecode.com/hg/online/radio86.html

Эмуляция происходит на уровне команд процессора Intel 8080.

Скриншот классической игры Volcano, сделанный в этом эмуляторе.

{% img /images/blog/radio86-volcano.png %}

На текущий момент я проверял только в Google Chrome 4.*. Думаю, я не буду заморачиваться особо на тему совместимости с другими браузерами, хотя посмотрим, как пойдет. В IE точно работать не будет, а вот про FF и Оперу ничего сказать не могу, пока.

Волшебный мир Радио-86РК снова вернулся!

P.S. К слову сказать, лучший эмулятор РК (и множества совместимых моделей), что я видел - это [эмулятор Виктора Пыхонина][emu80]. Может и он мигрирует на модную платформу со временем.

[emu80]: http://emu80.org/

**Update**: Обновил эмулятор до версии 0.2. Изменения незначительные: добавил некоторые системные программы (языки программирования, отладчики, редакторы и т.д.) и немного улучшил селектор выбора игры, который теперь срабатывает при нажатии кнопки "Run".

**Update**: Обновил эмулятор до версии 0.3. Отрисовка экране теперь работает значительно быстрее и не так грузит процессор.

**Update**: В версии 0.4 теперь встроенный ассемблер. Можно писать и ассемблировать прямо в окне эмулятора. После есть возможно загрузить результат в сам эмулятор и запустить командой "G" в Мониторе.

Скриншот этого ассемблера:

{% img /images/blog/radio86-builtin-assembler.png %}

**Update**: В версии 0.6 теперь есть встроенный дизассемблер. Им можно просматривать не только программый код, но и данные.

Скриншот дизассемблера:

{% img /images/blog/radio86-disassembler-chess.png %}
