---
layout: post
title: "Поиск подстроки в строке: алгоритм Кнута-Морриса-Пратта"
language: russian
date: 2010-08-03 00:00
comments: true
blogspot: http://easy-coding.blogspot.com/2010/08/blog-post.html
categories:
- olympiad programming
- russian
---
Мне понравилась идея [недели борьбы с велосипедизмом][Неделя борьбы с велосипедизмом], посему внесу свою лепту.

[Неделя борьбы с велосипедизмом]: http://alenacpp.blogspot.com/2010/07/blog-post.html

Один из частых вопросов, которые задают у нас в Блумберге на интервью в плане так называемого coding exercise (это когда надо на бумаге или на доске написать почти реальный кусок кода) - это поиск строки в подстроке. Это абсолютно жизненная задача.

Подавляющее число людей пишут первое, что приходит в голову - это два вложенных цикла, когда искомая строка последовательно "прикладывается" с каждой позиции исходной строки. Такой подход дает сложность `O(M*N)`, и, очевидно, что в жизни он нереален, если строки более менее длинные. Хотя все при этом знают, что любой hex-вьювер спокойно ищет в огромных файлах за явно линейное время.

Итак, для эффективного поиска строки в подстроке есть алгоритм [Кнута-Морриса-Пратта][], который решает проблему не за `O(N*M)`, а за `O(N+M)`.

[Кнута-Морриса-Пратта]: http://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9A%D0%BD%D1%83%D1%82%D0%B0_%E2%80%94_%D0%9C%D0%BE%D1%80%D1%80%D0%B8%D1%81%D0%B0_%E2%80%94_%D0%9F%D1%80%D0%B0%D1%82%D1%82%D0%B0

Построенный на [префикс-функции][Префикс-функция], данный алгоритм является классичесим примером динамического программирования, когда результаты решения задачи малой размерности используются для решения задачи большей размерности.

[Префикс-функция]: http://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B5%D1%84%D0%B8%D0%BA%D1%81-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F

P.S. Сразу скажу, у нас никто не просит по памяти писать КМП. И если человек после написания простого `O(N^2)` решения также скажет, что есть метод быстрее, и сможет описать его идею - этого вполне достаточно.
